
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>

   *
    {
        box-sizing: border-box;
    }

    body
    {
        overflow: hidden;
    }
    
    .header
    {
        height : 5%;
        width : 35%;
        background-color: lightsteelblue;
    }

    .header select
    {
        max-width : 40%;
        width: auto;
        max-height : 100%;
        vertical-align : top;
    }

    .header input
    {
        max-width : 40%;
        width: 30%;
        width: auto;
        max-height : 100%;
        vertical-align : top;
    }

    .main
    {
	position:relative;
	max-height : 75%;
	height : 75%;
	width : 100%;
	overflow : auto;
        background-color: lightcyan;
    }

    .main img
    {
        max-width : 100%;
        width: auto;
        max-height : 5%;
    }	


    
    
    .footer
    {
        padding-left: 1%;
	height : 20%;
	width : 20%;
        max-width : 10%;
	overflow : auto;
	white-space: nowrap;	
        max-height : 20%;
        background-color: pink;
    }

    .footerInfo
    {
        padding-left: 1%;
	height : 20%;
        max-height : 20%;
	width : 15%;
        max-width : 15%;
	overflow : auto;
        max-height : 20%;
        background-color: aquamarine;
    }
    
    
    .playlist 
    {
        height : 5%;
        width : 60%;
        overflow_x : auto;
        white-space: nowrap;
    }	
 	
    .playlist img
    {
        max-width : 100%;
        width: auto;
        max-height : 100%;
    }	
    
    .footerInfoPlus
    {
        
        padding-left:1%;
	height : 7%;
        max-height : 7%;
	width : 70%;
        max-width : 70%;
	overflow : hidden;
	white-space: nowrap;	
        background-color: lightgrey;
    }
    
    
    
    .playlistClearQueue
    {
        margin:auto;
	height : 10%;
        max-height : 10%;
	width : 5%;
        max-width : 5%;
	overflow : auto;
	white-space: nowrap;	
        background-color : blueviolet;
        text-align: center;
    }
    
    .playlistClearQueue img
    {
        
        max-width:  100%;
        max-height: 100%;
    }
    
    
    
    .playlistQueue
    {
        padding-left:1%;
	height : 10%;
        max-height : 10%;
	width : 65%;
        max-width : 65%;
	overflow : auto;
	white-space: nowrap;	
        background-color : blanchedalmond;
    }
    
    .playlistQueueimgSelected
    {
        max-width : 80%;
        width: auto;
        max-height : 80%;
        opacity: 1;
	filter: alpha(opacity=100);        
    }	
    
     .playlistQueueimgNotSelected
    {
        max-width : 80%;
        width: auto;
        max-height : 80%;
        opacity: 0.5;
        filter: alpha(opacity=50);       
    }
    
    .playlistQueueimgNotSelected:hover 
    {
	opacity: 1;
	filter: alpha(opacity=100);
    } 
    
    
    
    .footerInfoPlusClear
     {
        padding-left: 1%;
	height : 20%;
        max-height : 20%;
	width : 3%;
        max-width : 3%;
	overflow : hidden;
	white-space: nowrap;
        background-color : yellow;
    }
    
    
    
    
    .footerInfoPlusVol
     {
        padding-left: 1%;
	height : 20%;
        max-height : 20%;
	width : 2%;
        max-width : 2%;
	overflow : hidden;
	white-space: nowrap;	
    }
    
    .header img 
    {
        max-width : 100%;
        width: auto;
        max-height : 100%;
        padding-right: 3px;
    }

    .selected
    {
        opacity: 1;
	filter: alpha(opacity=100);
    }

    .notselected
    {
        opacity: 0.5;
        filter: alpha(opacity=50);
    }

    .notselected:hover 
    {
	opacity: 1;
	filter: alpha(opacity=100);
    } 

    .footer img 
    {
        max-width : 40%;
        width: auto;
        max-height : 100%;
        padding-top:  8px;
        padding-right: 5px;
    }
    
     .footerInfo img 
    {
        max-width : 35%;
        width: auto;
        max-height : 100%;
        padding-top:  8px;
        padding-right: 5px;
    }

   .footerInfoPlus img
   {
       vertical-align: center;
        max-width : 4%;
        width: auto;
        max-height : 100%;
   }

    .infocontainer
    {
        z-index: 99;
        position: absolute;
        max-width : 100%;
	max-height : 100%;
	height : 100%;
	width : 100%;
	padding-bottom : 5px;
	padding-right : 5px;
	padding-left : 5px;   
        background-color: lightblue;
    }
    
    .infocontainerAlbum
    {
        max-width : 40%;
	max-height : 100%;
	height : 100%;
	width : 40%;
	padding-bottom : 5px;
	padding-right : 5px;
	padding-left : 5px;   
        overflow : auto;
    }
    
    .infocontainerTrack
    {
        max-width : 60%;
	max-height : 100%;
	height : 100%;
	width : 60%;
	padding-bottom : 5px;
	padding-right : 5px;
	padding-left : 5px;   
        overflow : auto;
    }
    
    
    
    .maincontainer 
    {
	max-width : 20%;
	max-height : 100%;
	height : auto;
	width : auto;
	padding-bottom : 5px;
	padding-right : 5px;
	padding-left : 5px;
    }
    
    
     .infocontainer img
    {
	max-width : 50%;
	width: 50%;
	height : auto;
        max-height : 100%
    }

    
       
   
    
    
    .maincontainer img
    {
	max-width : 100%;
	width: auto;
	height : auto;
        max-height : 100%
    }



    .container 
    {
	max-width : 20%;
	height : 100%;
	width : auto;
	overflow_x : auto;
	white-space: nowrap;
	display: inline-block;
	padding-bottom : 10px;
	padding-right : 15px;
	padding-left : 5px;
    }

    .container img
    {
	max-width : 200%;
	width: auto;
	height : auto;
        max-height : 200%
    }

    .caption 
    {
        display: block;
    }

   progress 
   {
    width: 80%;
    height: 10%;
    }


div.infocontainer , div.infocontainerAlbum , div.infocontainerTrack { float: left; }

div.main , div.maincontainer { float: left; }
	
div.header , div.playlist  { float: left; }
div.header, div.container  { display: inline-block;}

div.footer, div.footerInfo ,div.footerInfoPlus,div.footerInfoPlusClear,div.footerInfoPlusVol { float: left; }
div.footer, div.playlist  { float: left; }
div.footer, div.container  { display: inline-block;}

div.footerInfo , div.playlistQueue , div.playlistClearQueue{ float : left; }

.spinner{
    position: absolute;
    height: 100px;
    width: 100px;
    top: 50%;
    left: 50%;
    margin-left: -50px;
    margin-top: -50px;
    background-size: 100%;
}

li:hover 
{
    background-color: gray;
}

#menu-vertical, #menu-vertical ul {
  padding :0;
  margin:0;
  list-style:none;
  width: 250px; /* seule ligne rajoutée */
}

#menu-vertical li 
{
  position: relative;
  
}

#menu-vertical li:hover 
{
  background-color: gray;
}


#menu-vertical ul {
  position: absolute;
  left:-999em;
}

#menu-vertical li:hover ul {
  top: 0;
  left: 250px;
}


input[type=range][orient=vertical]
{
    writing-mode: bt-lr; /* IE */
    -webkit-appearance: slider-vertical; /* WebKit */
    width: 5%;
    height: 15%;
    padding: 0 5px;
    position: absolute;
    bottom: 0;
    right: 2;
}

</style>




</head>
 
 
 

<body>
<div  class="header">    
        <select id="searchSelected">       
		<option value ="Artiste">Artiste</option>
		<option value ="Album">Album</option>
		<option value ="Morceau" selected>Morceau</option>
                <option value ="Web">Web</option>
		<option value ="Video">Video</option>
	</select>
        <input type="text" value="" id="vsearch">
        <img src="search.jpeg"  alt="search" onclick=isearch()>
</div>        
<div class="playlist" id="searchResult">
       	
</div>	
    <br><br><br> 
<div class="main" id="mainResult">
    <a name="top"></a>
    <img src="ajax-loader.gif"  alt="Please Wait" id="wait" class="spinner">
</div>    


<div class="footer" id="reader">
</div>   
    
<div class="footerInfo" id="readercommand">
    <div>
	<img id='iplay' class="notselected" src="play.png"  onClick='return play()' alt="play">
        <img id='istop' class="notselected" src="stop.png"  onClick='return stop()' alt="stop">
    </div>
    <div>
	<img id="ipause" class="notselected" src="pause.png" onClick='return pause()' alt="pause">
	<img id="inext" class="notselected" src="next.png"  onClick='return next()' alt="next">
    </div>
</div>   
 <div class="footerInfoPlus">
     <progress value="0" id="itracknamevolume"></progress>&nbsp;&nbsp;<span id="totalTime"></span>
    <div style="text-align: center;">   
       <span id="itrackname"></span>
    </div>    
 </div>   
<div class="playlistQueue" id="playQueue">
       
</div>   
<div class="playlistClearQueue" id="playlistClearQueue">
   <img id="iclear" class="notselected" src="poub.jpeg"  onClick='return ClearQueue()' alt="clear">    
</div>      
    
 <div class="footerInfoPlusVol">
    <input type="range" orient="vertical" name ="Volume" value="0" id="ivolume" min="0" max="100" step="1"  onchange="SetVolume(this.value)"/>
 </div>      


    
 
</body>



<script src="jquery-2.2.0.min.js"></script>
<script type="text/javascript">
 
 


 

var Position = 0;
var PositionQueue = 0 ;
var ArrayReader = new Array();    
var ArrayReaderCommand =  new Array("iplay","inext","istop","ipause");
var ArrayQueue = new Array();  

function test(){
        var i="toto";
        var j= document.getElementById("tt").value;
        var i = myoperations.display(j);
        nouveauDiv = document.createElement("div");
        nouveauDiv.innerHTML = "<h1>"+i+"</h1>";   
        // ajoute l'élément qui vient d'être créé et son contenu au DOM
        mon_div = document.getElementById("org_div1");
        document.body.insertBefore(nouveauDiv, mon_div);
};



function ClearQueue()
{
    myoperations.ClearQueue();
    var alreadyExist1 = document.getElementById("playQueue");
   if(alreadyExist1!=null)
   {
      while (alreadyExist1.firstChild) 
      {
        alreadyExist1.removeChild(alreadyExist1.firstChild);
      } 
   }
   for(n=0;n<ArrayQueue.length;n++)
   {
       delete ArrayQueue[n];
   }
}


function AddToQueue(evt)
{
   res = myoperations.addToQueue(evt.target.titre,evt.target.genre);
   var resArray = res.toString().split(",");
   var alreadyExist1 = document.getElementById("playQueue");
   if(alreadyExist1!=null)
   {
    for(n=0;n<resArray.length;n++)
    {
       ArrayQueue.push(resArray[n+1]); 
       var elem = document.createElement("img");
       elem.src=resArray[n]; 
       elem.id=resArray[n+1];
       elem.className = "playlistQueueimgNotSelected";
       alreadyExist1.appendChild(elem);
       delete elem;
       n++;
    }
   }
};


function PlayNow(evt)
{
   myoperations.display(evt.target.titre,evt.target.genre);  
};


function closeDiv()
{
   var alreadyExist1 = document.getElementById("infoalbumdiv");
   if(alreadyExist1 !=null)
   {  
       alreadyExist1.parentNode.removeChild(alreadyExist1);
       delete alreadyExist1;
   }  
   $("#mainResult").animate({ scrollTop: Position }, "slow");
}

function AffInfoAlbum(evt)
{
   var alreadyExist1 = document.getElementById("infoalbumdiv");
   if(alreadyExist1 !=null)
   {  
       alreadyExist1.parentNode.removeChild(alreadyExist1);
   }
   var alreadyExist = document.getElementById("mainResult");
   if(alreadyExist !=null)
   {    
     res=myoperations.getAllInfo(evt.target.myParam);  
     var resArray = res.toString().split(",");
     var elm = document.createElement("div");
     elm.id = "infoalbumdiv";
     elm.className = "infocontainer";
     //Artiste name
     
     var elmAlbum = document.createElement("div");
     elmAlbum.className = "infocontainerAlbum";
     
     var elmDiv1 = document.createElement("div");
     var elemSpan = document.createElement("span");
     elemSpan.innerHTML=resArray[0];
     elmDiv1.appendChild(elemSpan);
     elmAlbum.appendChild(elmDiv1);
     delete elmDiv1;
     //Image album
     var elmDiv2 = document.createElement("div");
     var elem = document.createElement("img");
     elem.src=resArray[2];
     elem.addEventListener('click', closeDiv, false); 
     elmDiv2.appendChild(elem);
     elmAlbum.appendChild(elmDiv2);
     delete elmDiv2;
     
     //Album name
     var elmDiv3 = document.createElement("div");
     var elemul = document.createElement("ul");
     elemul.innerHTML =  resArray[1];
     var elemli = document.createElement("li");
     elemli.addEventListener('click', PlayNow, false); 
     elemli.innerHTML =  "Lire maintenant.";
     elemli.titre = resArray[1];
     elemli.genre = "Album"
     elemul.appendChild(elemli);
     delete elemli;
     
     var elemli1 = document.createElement("li");
     elemli1.addEventListener('click', AddToQueue, false); 
     elemli1.innerHTML =  "Ajouter &agrave; la liste";
     elemli1.titre = resArray[1];
     elemli1.genre = "Album"
     elemul.appendChild(elemli1);
     delete elemli1;
     elmDiv3.appendChild(elemul);
     delete elemul;
     elmAlbum.appendChild(elmDiv3);
     delete elmDiv3;
    

    var elmTrack = document.createElement("div");
    elmTrack.className="infocontainerTrack";

    var elemulHide = document.createElement("ul");
    elemulHide.id="menu-vertical";

    for(n=3;n<resArray.length;n++)
    {
     var elemlliA = document.createElement("li");   
     elemlliA.innerHTML =  resArray[n];

                
     var elemul2 = document.createElement("ul");
     
     
     var elemli1 = document.createElement("li");
     elemli1.addEventListener('click', PlayNow, false); 
     elemli1.innerHTML =  "Lire maintenant.";
     elemli1.titre = resArray[n];
     elemli1.genre = "Morceau";
     elemul2.appendChild(elemli1);
     delete elemli1;
    
     var elemli2 = document.createElement("li");
     elemli2.addEventListener('click', AddToQueue, false); 
     elemli2.innerHTML =  "Ajouter &agrave; la liste";
     elemli2.titre = resArray[n];
     elemli2.genre = "Morceau";
     elemul2.appendChild(elemli2);
     delete elemli2;    
     
     elemlliA.appendChild(elemul2);
     delete elemul2;        
     elemulHide.appendChild(elemlliA);
     delete elemlliA;        
     
    }
    
    elmTrack.appendChild(elemulHide);
    delete elemulHide;   
    elm.appendChild(elmAlbum); 
    delete elmAlbum;       
    elm.appendChild(elmTrack); 
    delete elmTrack;  
    alreadyExist.appendChild(elm); 
    delete elm; 
  }
  Position = $("#mainResult").scrollTop();
  $("#mainResult").animate({ scrollTop: 0 }, "slow");
}




function AddVolInfo(vol)
{
    var alreadyExist = document.getElementById("ivolume");
    if(alreadyExist !=null)
    {
        alreadyExist.value=vol;
        return;
    }
}


function AddTitreInfo(vol)
{
    var alreadyExist = document.getElementById("itrackname");
    if(alreadyExist !=null)
    {
        alreadyExist.innerHTML=vol;
    }
    selectDeselectQueue(vol);
}

function AddMainContent(name, url)
{
    var alreadyExist = document.getElementById("wait");
    if(alreadyExist !=null)
    {
        alreadyExist.parentNode.removeChild(alreadyExist);
        delete alreadyExist;
        return;
    }
    var elm = document.createElement("div");
    elm.className = "maincontainer";
    var elem = document.createElement("img");
    elem.src=url;
    elem.id=name;
    elem.addEventListener('click', AffInfoAlbum, false); 
    elem.myParam = name;
    elm.appendChild(elem);
    delete elem;
    /*
    var elem1 = document.createElement("span");
    elem1.className = "caption";
    elem1.innerHTML="<marquee scrollamount='3'>"+name+"</marquee>";
    elm.appendChild(elem1);
    */    
    document.getElementById("mainResult").appendChild(elm);
    delete elm;
 };

function setRange(max,val,valString)
{
    
    var alreadyExist = document.getElementById("itracknamevolume");
    if(alreadyExist !=null)
    {
        alreadyExist.max = max;
        alreadyExist.value = val;
    }
    var alreadyExist1 = document.getElementById("totalTime");
    if(alreadyExist1 !=null)
    {
        alreadyExist1.innerHTML=valString;
    }
    return;
}


function isearch()
{
    mydiv = document.getElementById('searchResult');
    while (mydiv.firstChild) {
      mydiv.removeChild(mydiv.firstChild);
    }
  
  var i = document.getElementById("vsearch").value;
  var e = document.getElementById("searchSelected");
  var j = e.options[e.selectedIndex].value;
  var  res = new Array(); 
  res=myoperations.search(i,j);
  var resArray = res.toString().split(",");
  for(n=0;n<resArray.length;n++)
  {
    var elm = document.createElement("div");
    elm.className = "container";
    var elem = document.createElement("img");
    elem.src=resArray[n+1];
    elem.addEventListener('click', AffInfoAlbum, false); 
    elem.myParam = resArray[n];
    elm.appendChild(elem);
    /*
    var elem1 = document.createElement("span");
    elem1.className = "caption";
    elem1.innerHTML="<marquee scrollamount='3'>"+resArray[n]+"</marquee>";
    elm.appendChild(elem1);
    */
    document.getElementById("searchResult").appendChild(elm);
    n++;
   }
};


function selectDeselectQueue(me)
{
    for(var j=0;j<ArrayQueue.length;j++)
   {
     
        var elm = document.getElementById(ArrayQueue[j]);
        if(me !== ArrayQueue[j])   
        {
           elm.className = "playlistQueueimgNotSelected"; 
        }
        else
        {
            elm.className="playlistQueueimgSelected";
        }       
   }
}



function selectDeselect(me)
{
    for(var j=0;j<ArrayReaderCommand.length;j++)
   {
     
        var elm = document.getElementById(ArrayReaderCommand[j]);
        if(me !== ArrayReaderCommand[j])   
        {
           elm.className = "notselected"; 
        }
        else
        {
            elm.className="selected";
        }       
   }
}

function play()       
{
   selectDeselect("iplay");
   myoperations.play(); 
}

function pause()
{
  selectDeselect("ipause");  
  myoperations.pause(); 
}

function next()
{
   selectDeselect("inext");
   myoperations.next();
}

function stop()
{
   selectDeselect("istop"); 
   myoperations.stop();
}

function SetVolume(newValue)
{
   myoperations.SetVolume(newValue);
}



function SetReader(evt)
{
   for(var j=0;j<ArrayReader.length;j++)
   {
        var elm = document.getElementById(ArrayReader[j]);
        if(evt.target.myParam !== ArrayReader[j])   
        {
           elm.className = "notselected"; 
        }
        else
        {
            elm.className="selected";
        }       
   }
   myoperations.SetReader(evt.target.myParam);
};




 

function AddReader(i,j)
{
    ArrayReader.push(j);
    var elem = document.createElement("img");
    elem.className="notselected";
    elem.src=i;
    elem.id=j;
    elem.addEventListener('click', SetReader, false);
    elem.myParam = j;
    document.getElementById("reader").appendChild(elem);
    delete elem;
};

</script>

</html>
