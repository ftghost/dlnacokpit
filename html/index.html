<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>



    *
    {
        box-sizing: border-box;
    }

    .header
    {
        height : 5%;
        width : 35%;
    }

    .header select
    {
        max-width : 40%;
        width: auto;
        max-height : 100%;
        vertical-align : top;
    }

    .header input
    {
        max-width : 40%;
        width: 30%;
        width: auto;
        max-height : 100%;
        vertical-align : top;
    }

    .main
    {
	position:relative;
	max-height : 75%;
	height : 75%;
	width : 100%;
	overflow : auto;
    }

    .main img
    {
        max-width : 100%;
        width: auto;
        max-height : 5%;
    }	


    .footer
    {
	height : 5%;
	width : 10%;
	overflow_x : auto;
	white-space: nowrap;	
    }

    .header img 
    {
        max-width : 100%;
        width: auto;
        max-height : 100%;
        padding-right: 3px;
    }

    .selected
    {
        opacity: 1;
	filter: alpha(opacity=100);
    }

    .notselected
    {
        opacity: 0.5;
        filter: alpha(opacity=50);
    }

    .notselected:hover 
    {
	opacity: 1;
	filter: alpha(opacity=100);
    } 

    .footer img 
    {
        max-width : 100%;
        width: auto;
        max-height : 100%;
        padding-top:  8px;
        padding-right: 5px;
    }

    .playlist 
    {
	height : 5%;
	width : 60%;
	overflow_x : auto;
	white-space: nowrap;
    }	
	
    .playlist img
    {
        max-width : 100%;
        width: auto;
        max-height : 100%;
    }	

    .infocontainer
    {
        z-index: 99;
        position: absolute;
        max-width : 100%;
	max-height : 100%;
	height : 100%;
	width : 100%;
	padding-bottom : 5px;
	padding-right : 5px;
	padding-left : 5px;   
        background-color: lightblue;
    }
    
    .maincontainer 
    {
	max-width : 20%;
	max-height : 100%;
	height : auto;
	width : auto;
	padding-bottom : 5px;
	padding-right : 5px;
	padding-left : 5px;
    }
    
    
     .infocontainer img
    {
	max-width : 20%;
	width: 20%;
	height : auto;
        max-height : 100%
    }

    .maincontainer img
    {
	max-width : 100%;
	width: auto;
	height : auto;
        max-height : 100%
    }



    .container 
    {
	max-width : 20%;
	height : 100%;
	width : auto;
	overflow_x : auto;
	white-space: nowrap;
	display: inline-block;
	padding-bottom : 10px;
	padding-right : 15px;
	padding-left : 5px;
    }

    .container img
    {
	max-width : 200%;
	width: auto;
	height : auto;
        max-height : 200%
    }

    .caption 
    {
        display: block;
    }




div.main , div.maincontainer { float: left; }
	
div.header , div.playlist  { float: left; }
div.header, div.container  { display: inline-block;}
	
div.footer, div.playlist  { float: left; }
div.footer, div.container  { display: inline-block;}


.spinner{
    position: absolute;
    height: 100px;
    width: 100px;
    top: 50%;
    left: 50%;
    margin-left: -50px;
    margin-top: -50px;
    background-size: 100%;
}


</style>




</head>
 
 
 

<body>
<div  class="header">    
        <select id="searchSelected">
		<option value ="Artiste">Artiste</option>
		<option value ="Album">Album</option>
		<option value ="Morceau" selected>Morceau</option>
		<option value ="Video">Video</option>
	</select>
        <input type="text" value="" id="vsearch">
        <img src="search.jpeg"  alt="search" onclick=isearch()>
</div>        
<div class="playlist" id="searchResult">
       	
</div>	
    <br><br><br> 
<div class="main" id="mainResult">
    <a name="top"></a>
    <img src="ajax-loader.gif"  alt="Please Wait" id="wait" class="spinner">
</div>    


<div class="footer" id="reader">
</div>    
<div class="footer" id="readercommand">
	<img id='iplay' class="notselected" src="play.png"  onClick='return play()' alt="play">
        <img id='istop' class="notselected" src="stop.png"  onClick='return stop()' alt="stop">
	<img id="ipause" class="notselected" src="pause.png" onClick='return pause()' alt="pause">
	<img id="inext" class="notselected" src="next.png"  onClick='return next()' alt="next">
        <div>
            <span id="itrackname"></span><progress value="0" id="itracknamevolume"></progress>
        </div>
        <div>
        Volume : <input type="range" name ="Volume" value="0" id="ivolume" min="0" max="100" step="1" onchange="SetVolume(this.value)"/>
        </div>
</div>    

<div class="playlist" id="playQueue">

</div>
    

 
</body>



<script src="jquery-2.2.0.min.js"></script>
<script type="text/javascript">
 
 


 

var Position = 0;
var ArrayReader = new Array();    
var ArrayReaderCommand =  new Array("iplay","ipause","inext","istop");

function test(){
        var i="toto";
        var j= document.getElementById("tt").value;
        var i = myoperations.display(j);
        nouveauDiv = document.createElement("div");
        nouveauDiv.innerHTML = "<h1>"+i+"</h1>";   
        // ajoute l'élément qui vient d'être créé et son contenu au DOM
        mon_div = document.getElementById("org_div1");
        document.body.insertBefore(nouveauDiv, mon_div);
};

function AddToQueue(evt)
{
   myoperations.display(evt.target.myParam);  
};

function closeDiv()
{
   var alreadyExist1 = document.getElementById("attrinfoalbumdiv");
   if(alreadyExist1 !=null)
   {  
       alreadyExist1.parentNode.removeChild(alreadyExist1);
   }  
   $("#mainResult").animate({ scrollTop: Position }, "slow");
}

function AffInfoAlbum(evt)
{
   var alreadyExist1 = document.getElementById("infoalbumdiv");
   if(alreadyExist1 !=null)
   {  
       alreadyExist1.parentNode.removeChild(alreadyExist1);
   }
   var alreadyExist = document.getElementById("mainResult");
   if(alreadyExist !=null)
   {    
    res=myoperations.getAllInfo(evt.target.myParam);  
    var resArray = res.toString().split(",");
     var elm = document.createElement("div");
     elm.id = "infoalbumdiv";
     elm.className = "infocontainer";
     var elem = document.createElement("img");
     elem.src=resArray[1];
     elem.addEventListener('click', closeDiv, false); 
     elm.appendChild(elem);
     var elem1 = document.createElement("span");
     elem1.className = "caption";
     elem1.innerHTML=resArray[0];
     elm.appendChild(elem1);
     var ulElm = document.createElement("ul");
     elm.appendChild(ulElm);
     
     
    for(n=2;n<resArray.length;n++)
    {  
        var liElm = document.createElement("li");
        elm.appendChild(liElm);
    }
    alreadyExist.appendChild(elm); 
  }
  Position = $("#mainResult").scrollTop();
  $("#mainResult").animate({ scrollTop: 0 }, "slow");
}




function AddVolInfo(vol)
{
    var alreadyExist = document.getElementById("ivolume");
    if(alreadyExist !=null)
    {
        alreadyExist.value=vol;
        return;
    }
}


function AddTitreInfo(vol)
{
    var alreadyExist = document.getElementById("itrackname");
    if(alreadyExist !=null)
    {
        alreadyExist.innerHTML=vol +" : ";
        return;
    }
}

function AddMainContent(name, url)
{
    var alreadyExist = document.getElementById("wait");
    if(alreadyExist !=null)
    {
        alreadyExist.parentNode.removeChild(alreadyExist);
        return;
    }
    var elm = document.createElement("div");
    elm.className = "maincontainer";
    var elem = document.createElement("img");
    elem.src=url;
    elem.id=name;
    elem.addEventListener('click', AffInfoAlbum, false); 
    elem.myParam = name;
    elm.appendChild(elem);
    /*
    var elem1 = document.createElement("span");
    elem1.className = "caption";
    elem1.innerHTML="<marquee scrollamount='3'>"+name+"</marquee>";
    elm.appendChild(elem1);
    */    
    document.getElementById("mainResult").appendChild(elm);
 };

function setRange(max,val)
{
    
    var alreadyExist = document.getElementById("itracknamevolume");
    if(alreadyExist !=null)
    {
        alreadyExist.max = max;
        alreadyExist.value = val;
        return;
    }
}


function isearch()
{
    mydiv = document.getElementById('searchResult');
    while (mydiv.firstChild) {
      mydiv.removeChild(mydiv.firstChild);
    }
  
  var i = document.getElementById("vsearch").value;
  var e = document.getElementById("searchSelected");
  var j = e.options[e.selectedIndex].value;
  var  res = new Array(); 
  res=myoperations.search(i,j);
  var resArray = res.toString().split(",");
  for(n=0;n<resArray.length;n++)
  {
    var elm = document.createElement("div");
    elm.className = "container";
    var elem = document.createElement("img");
    elem.src=resArray[n+1];
    elem.addEventListener('click', AffInfoAlbum, false); 
    elem.myParam = resArray[n];
    elm.appendChild(elem);
    /*
    var elem1 = document.createElement("span");
    elem1.className = "caption";
    elem1.innerHTML="<marquee scrollamount='3'>"+resArray[n]+"</marquee>";
    elm.appendChild(elem1);
    */
    document.getElementById("searchResult").appendChild(elm);
    n++;
   }
};

function selectDeselect(me)
{
    for(var j=0;j<ArrayReaderCommand.length;j++)
   {
     
        var elm = document.getElementById(ArrayReaderCommand[j]);
        if(me !== ArrayReaderCommand[j])   
        {
           elm.className = "notselected"; 
        }
        else
        {
            elm.className="selected";
        }       
   }
}

function play()       
{
   selectDeselect("iplay");
   myoperations.play(); 
}

function pause()
{
  selectDeselect("ipause");  
  myoperations.pause(); 
}

function next()
{
   selectDeselect("inext");
   myoperations.next();
}

function stop()
{
   selectDeselect("istop"); 
   myoperations.stop();
}

function SetVolume(newValue)
{
   myoperations.SetVolume(newValue);
}



function SetReader(evt)
{
   for(var j=0;j<ArrayReader.length;j++)
   {
        var elm = document.getElementById(ArrayReader[j]);
        if(evt.target.myParam !== ArrayReader[j])   
        {
           elm.className = "notselected"; 
        }
        else
        {
            elm.className="selected";
        }       
   }
   myoperations.SetReader(evt.target.myParam);
};




 

function AddReader(i,j)
{
    ArrayReader.push(j);
    var elem = document.createElement("img");
    elem.className="notselected";
    elem.src=i;
    elem.id=j;
    elem.addEventListener('click', SetReader, false);
    elem.myParam = j;
    document.getElementById("reader").appendChild(elem);
};

</script>

</html>
